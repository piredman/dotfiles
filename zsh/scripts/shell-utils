#!/usr/bin/env bash

_execute_script() {
    local script_path="$1"
    local use_sudo="$2"

    if [[ ! -f "$script_path" ]]; then
        echo "Error: Script not found: $script_path" >&2
        return 1
    fi

    if [[ ! -x "$script_path" ]]; then
        chmod +x "$script_path" 2>/dev/null
    fi

    ${use_sudo:+sudo} "$script_path"
}

run_script() {
    local script_path="$1"
    _execute_script "$script_path" ""
}

run_sudo_script() {
    local script_path="$1"
    _execute_script "$script_path" "sudo"
}